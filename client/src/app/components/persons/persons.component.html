<div class="col-12 mt-2 width-1220">
    <div class="row">
        <div class="col-4">
            <button class="btn btn-primary btn-sm" type='button' (click)='addEdit()'>
                <fa-icon [icon]='faPlus'></fa-icon> Adaugă
            </button>
        </div>
        <div class="col-4">
            <h4 class="text-center">Persoane</h4>
        </div>
        <div class="col-4"></div>
    </div>

    <div class="row">
        <div class="col-12 width-1220">
            <table class="table table-striped table-hover">
                <thead>
                    <tr class="table-bordered">
                        <th width="60px" rowspan="2">Nr. Crt.</th>
                        <th>Nume</th>
                        <th>Prenume</th>
                        <th width="120px">CNP</th>
                        <th width="60px">Vârsta</th>
                        <th width='200px'>Mașini deținute</th>
                        <th rowspan='2' width='70px'></th>
                    </tr>
                    <tr>
                        <th><input class='form-control input-xs' placeholder='Căutare...'></th>
                        <th><input class='form-control input-xs' placeholder='Căutare...'></th>
                        <th><input class='form-control input-xs' placeholder='Căutare...'></th>
                        <th><input class='form-control input-xs' placeholder='Căutare...'></th>
                        <th><input class='form-control input-xs' placeholder='Căutare...'></th>
                      </tr>
                </thead>
            </table>
        </div>

        <div class="col-12 position-relative width-1220">
            <div id="view" class="view-scroll-persons" style="max-height: 60vh;" [scrollWindow]="false" (scroll)='showTopButton()' infiniteScroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="30" (scrolled)="onScrollDown()">
                <button type="button" id="back-top" class="{{this.showBackTop}}" (click)="onScrollTop()">
                    <fa-icon [icon]="faChevronUp"></fa-icon>
                </button>
                <table class="table table-hover table-striped table-bordered font-14 p-0">
                    <tbody>
                        <tr *ngFor="let p of persons.slice(0, limit);index as i" (dblclick)="addEdit(p.id)" class="cursor-pointer">
                            <td width="60px" class="text-center">{{i+1}}</td>
                            <td width="343px">{{p.last_name}}</td>
                            <td width="343px">{{p.first_name}}</td>
                            <td width="120px">{{p.cnp}}</td>
                            <td width="60px">{{p.age}}</td>
                            <td width='200px' class='text-center'>
                                <ul *ngIf='p.car_list[0].id !== null'>
                                    <li *ngFor='let c of p.car_list' class='border'>
                                        {{c.brand_name}} {{c.model_name}} {{c.year}}<br />
                                        Capacitate cilindrică: {{c.cilindrical_capacity}}<br />
                                        Taxă de impozit: {{c.tax}}
                                    </li>
                                </ul>
                            </td>
                            <td width="30px" (click)="addEdit(p.id)" class="text-center" matTooltip="Modificare" malToolTipPosition="left">
                                <fa-icon class="text-primary" [icon]="faEdit"></fa-icon>
                            </td>
                            <td width="30px" (click)="delete(p)" class="text-center" matTooltip='Ștergere' matTooltipPosition='left'>
                                <fa-icon class='text-danger' [icon]='faTrashAlt'></fa-icon>
                        </tr>
                        <tr colspan='15' *ngIf='!persons.length' class='text-center fw-bold'>
                            <td>Date inexistente!</td>
                          </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>